!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.FpsPlugin=t():e.FpsPlugin=t()}(self,(function(){return function(){var e={808:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},932:function(e,t,n){var s=n(28);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,s(i.key),i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},899:function(e,t,n){var s=n(28);e.exports=function(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},161:function(e,t,n){var s=n(441).default;e.exports=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},28:function(e,t,n){var s=n(441).default,i=n(161);e.exports=function(e){var t=i(e,"string");return"symbol"==s(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},441:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function n(s){var i=t[s];if(void 0!==i)return i.exports;var o=t[s]={exports:{}};return e[s](o,o.exports,n),o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var s={};return function(){"use strict";n.r(s);var e=n(808),t=n.n(e),i=n(932),o=n.n(i),r=n(899),l=n.n(r),a=function(){function e(){var n=this;t()(this,e),l()(this,"board",void 0),l()(this,"animationFrameId",null),l()(this,"lastFrameTime",performance.now()),l()(this,"frameCount",0),l()(this,"fps",0),l()(this,"fpsHistory",[]),l()(this,"historySize",60),l()(this,"enabled",!0),l()(this,"fpsElement",null),l()(this,"pluginName","FpsPlugin"),l()(this,"exports",{getFps:this.getFps.bind(this),getAverageFps:this.getAverageFps.bind(this),setEnabled:this.setEnabled.bind(this),isEnabled:this.isEnabled.bind(this)}),l()(this,"startFpsMonitor",(function(){n.animationFrameId=requestAnimationFrame((function e(t){n.frameCount++;var s=t-n.lastFrameTime;s>=1e3&&(n.fps=Math.round(1e3*n.frameCount/s),n.fpsHistory.push(n.fps),n.fpsHistory.length>n.historySize&&n.fpsHistory.shift(),n.frameCount=0,n.lastFrameTime=t),n.enabled&&n.renderFps(),n.animationFrameId=requestAnimationFrame(e)}))})),l()(this,"renderFps",(function(){if(n.fpsElement){var e=n.getAverageFps();n.fpsElement.innerHTML='\n            <div style="font-size: 32px; font-weight: bold; color: #000000;">'.concat(n.fps,'</div>\n            <div style="font-size: 12px; font-weight: bold; color: #000000;">FPS</div>\n            <div style="font-size: 10px; color: #000000;">avg: ').concat(e,"</div>\n        ")}else console.warn("FpsPlugin: element not available")}))}return o()(e,[{key:"init",value:function(e){var t=e.board;this.board=t,this.createFpsElement(),this.startFpsMonitor()}},{key:"createFpsElement",value:function(){var e=this.board.getContainer();e?("static"===window.getComputedStyle(e).position&&(e.style.position="relative"),this.fpsElement=document.createElement("div"),this.fpsElement.style.position="absolute",this.fpsElement.style.top="10px",this.fpsElement.style.right="10px",this.fpsElement.style.width="100px",this.fpsElement.style.height="70px",this.fpsElement.style.backgroundColor="#FFFF00",this.fpsElement.style.border="2px solid #000000",this.fpsElement.style.borderRadius="5px",this.fpsElement.style.padding="5px",this.fpsElement.style.zIndex="99999",this.fpsElement.style.pointerEvents="none",this.fpsElement.style.fontFamily="Arial, sans-serif",this.fpsElement.style.textAlign="center",this.fpsElement.style.display="flex",this.fpsElement.style.flexDirection="column",this.fpsElement.style.justifyContent="center",this.fpsElement.style.alignItems="center",this.fpsElement.innerHTML='\n            <div style="font-size: 32px; font-weight: bold; color: #000000;">0</div>\n            <div style="font-size: 12px; font-weight: bold; color: #000000;">FPS</div>\n            <div style="font-size: 10px; color: #000000;">avg: 0</div>\n        ',e.appendChild(this.fpsElement),console.log("FpsPlugin: DOM element created",{container:e,element:this.fpsElement})):console.warn("FpsPlugin: container not found")}},{key:"getFps",value:function(){return this.fps}},{key:"getAverageFps",value:function(){if(0===this.fpsHistory.length)return 0;var e=this.fpsHistory.reduce((function(e,t){return e+t}),0);return Math.round(e/this.fpsHistory.length)}},{key:"setEnabled",value:function(e){this.enabled=e,this.fpsElement&&(this.fpsElement.style.display=e?"flex":"none")}},{key:"isEnabled",value:function(){return this.enabled}},{key:"dispose",value:function(){null!==this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null),this.fpsElement&&this.fpsElement.parentNode&&this.fpsElement.parentNode.removeChild(this.fpsElement),this.fpsElement=null,this.fpsHistory=[]}}]),e}();s.default=a}(),s}()}));
//# sourceMappingURL=board-plugin-fps.min.js.map